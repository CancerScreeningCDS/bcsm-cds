<?xml version="1.0" encoding="UTF-8"?>
<library xmlns="urn:hl7-org:elm:r1" xmlns:t="urn:hl7-org:elm-types:r1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:fhir="http://hl7.org/fhir" xmlns:qdm43="urn:healthit-gov:qdm:v4_3" xmlns:qdm53="urn:healthit-gov:qdm:v5_3" xmlns:a="urn:hl7-org:cql-annotations:r1" localId="0">
   <annotation translatorVersion="3.11.0" translatorOptions="EnableAnnotations,EnableLocators,DisableListDemotion,DisableListPromotion" signatureLevel="Overloads" xsi:type="a:CqlToElmInfo"/>
   <annotation xsi:type="a:Annotation">
      <a:s r="258">
         <a:s>/*  
  Author: CMS Alliance to Modernize Healthcare, operated by THE MITRE Corporation.

  (C) 2024 The MITRE Corporation. All Rights Reserved. 
  Approved for Public Release: 24-2711. 
  Distribution Unlimited.

  Unless otherwise noted, this work is available under an Apache 2.0 license. 
  It was produced by the MITRE Corporation for the Division of Cancer Prevention 
  and Control, Centers for Disease Control and Prevention in accordance with the 
  Statement of Work, contract number 75FCMC18D0047, task order number 75D30123F17931.
*/

library GeneticRiskReferralActions version '1.0.0'</a:s>
      </a:s>
   </annotation>
   <identifier id="GeneticRiskReferralActions" system="http://cancerscreeningcds.github.io/bcsm-cds" version="1.0.0"/>
   <schemaIdentifier id="urn:hl7-org:elm" version="r1"/>
   <usings>
      <def localId="1" localIdentifier="System" uri="urn:hl7-org:elm-types:r1"/>
      <def localId="206" locator="16:1-16:26" localIdentifier="FHIR" uri="http://hl7.org/fhir" version="4.0.1">
         <annotation xsi:type="a:Annotation">
            <a:s r="206">
               <a:s>using </a:s>
               <a:s>
                  <a:s>FHIR</a:s>
               </a:s>
               <a:s> version '4.0.1'</a:s>
            </a:s>
         </annotation>
      </def>
   </usings>
   <includes>
      <def localId="207" locator="18:1-18:55" localIdentifier="FHIRHelpers" path="http://cancerscreeningcds.github.io/bcsm-cds/FHIRHelpers" version="4.0.1">
         <annotation xsi:type="a:Annotation">
            <a:s r="207">
               <a:s>include </a:s>
               <a:s>
                  <a:s>FHIRHelpers</a:s>
               </a:s>
               <a:s>  version '4.0.1' called FHIRHelpers</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="208" locator="19:1-19:61" localIdentifier="BCSMCommon" path="http://cancerscreeningcds.github.io/bcsm-cds/BCSMCommonFunctions" version="1.0.0">
         <annotation xsi:type="a:Annotation">
            <a:s r="208">
               <a:s>include </a:s>
               <a:s>
                  <a:s>BCSMCommonFunctions</a:s>
               </a:s>
               <a:s> version '1.0.0' called BCSMCommon</a:s>
            </a:s>
         </annotation>
      </def>
   </includes>
   <codeSystems>
      <def localId="209" locator="21:1-21:114" name="ActCode" id="http://cancerscreeningcds.github.io/bcsm-cds/CodeSystem/plan-definition-action-code-system" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="209">
               <a:s>codesystem &quot;ActCode&quot;: 'http://cancerscreeningcds.github.io/bcsm-cds/CodeSystem/plan-definition-action-code-system'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="210" locator="22:1-22:111" name="LOCAL" id="http://cancerscreeningcds.github.io/bcsm-cds/CodeSystem/screening-observation-code-system" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="210">
               <a:s>codesystem &quot;LOCAL&quot;: 'http://cancerscreeningcds.github.io/bcsm-cds/CodeSystem/screening-observation-code-system'</a:s>
            </a:s>
         </annotation>
      </def>
   </codeSystems>
   <codes>
      <def localId="211" locator="25:1-25:118" name="Brief familial risk assessment tool" id="fhxrisktool" display="Brief familial risk assessment tool" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="211">
               <a:s>// Act Codes
code &quot;Brief familial risk assessment tool&quot;: 'fhxrisktool' from </a:s>
               <a:s r="212">
                  <a:s>&quot;ActCode&quot;</a:s>
               </a:s>
               <a:s> display 'Brief familial risk assessment tool'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="212" locator="25:64-25:72" name="ActCode"/>
      </def>
      <def localId="213" locator="26:1-26:116" name="Informal familial risk assessment" id="fhxriskassess" display="Informal familial risk assessment" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="213">
               <a:s>code &quot;Informal familial risk assessment&quot;: 'fhxriskassess' from </a:s>
               <a:s r="214">
                  <a:s>&quot;ActCode&quot;</a:s>
               </a:s>
               <a:s> display 'Informal familial risk assessment'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="214" locator="26:64-26:72" name="ActCode"/>
      </def>
      <def localId="215" locator="27:1-27:99" name="Genetic risk referral" id="geneticriskreferral" display="Genetic risk referral" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="215">
               <a:s>code &quot;Genetic risk referral&quot;: 'geneticriskreferral' from  </a:s>
               <a:s r="216">
                  <a:s>&quot;ActCode&quot;</a:s>
               </a:s>
               <a:s> display 'Genetic risk referral'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="216" locator="27:59-27:67" name="ActCode"/>
      </def>
      <def localId="217" locator="29:1-29:143" name="Family history of inherited cancer susceptibility" id="fhxgenetic" display="Family history of inherited cancer susceptibility" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="217">
               <a:s>// Reason Codes
code &quot;Family history of inherited cancer susceptibility&quot;: 'fhxgenetic' from </a:s>
               <a:s r="218">
                  <a:s>&quot;LOCAL&quot;</a:s>
               </a:s>
               <a:s> display 'Family history of inherited cancer susceptibility'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="218" locator="29:77-29:83" name="LOCAL"/>
      </def>
      <def localId="219" locator="30:1-30:145" name="Ancestry associated with BRCA1/2 gene mutations" id="brcageneancestry" display="Ancestry associated with BRCA1/2 gene mutations" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="219">
               <a:s>code &quot;Ancestry associated with BRCA1/2 gene mutations&quot;: 'brcageneancestry' from </a:s>
               <a:s r="220">
                  <a:s>&quot;LOCAL&quot;</a:s>
               </a:s>
               <a:s> display 'Ancestry associated with BRCA1/2 gene mutations'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="220" locator="30:81-30:87" name="LOCAL"/>
      </def>
      <def localId="221" locator="31:1-31:180" name="Family history of breast, ovarian, tubal, or peritoneal cancer" id="fhxbrcaovcatubalperit" display="Family history of breast, ovarian, tubal, or peritoneal cancer" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="221">
               <a:s>code &quot;Family history of breast, ovarian, tubal, or peritoneal cancer&quot;: 'fhxbrcaovcatubalperit' from </a:s>
               <a:s r="222">
                  <a:s>&quot;LOCAL&quot;</a:s>
               </a:s>
               <a:s> display 'Family history of breast, ovarian, tubal, or peritoneal cancer'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="222" locator="31:101-31:107" name="LOCAL"/>
      </def>
      <def localId="223" locator="32:1-32:87" name="High familial risk" id="highfamilialrisk" display="High familial risk" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="223">
               <a:s>code &quot;High familial risk&quot;: 'highfamilialrisk' from </a:s>
               <a:s r="224">
                  <a:s>&quot;LOCAL&quot;</a:s>
               </a:s>
               <a:s> display 'High familial risk'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="224" locator="32:52-32:58" name="LOCAL"/>
      </def>
   </codes>
   <contexts>
      <def localId="228" locator="34:1-34:15" name="Patient"/>
   </contexts>
   <statements>
      <def localId="226" locator="34:1-34:15" name="Patient" context="Patient">
         <expression localId="227" xsi:type="SingletonFrom">
            <operand localId="225" locator="34:1-34:15" dataType="fhir:Patient" templateId="http://hl7.org/fhir/StructureDefinition/Patient" xsi:type="Retrieve"/>
         </expression>
      </def>
      <def localId="230" locator="36:1-41:2" name="act-fhxrisktool" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="230">
               <a:s>define &quot;act-fhxrisktool&quot;:
  </a:s>
               <a:s r="231">
                  <a:s>{
		</a:s>
                  <a:s>
                     <a:s>code: </a:s>
                     <a:s r="232">
                        <a:s>&quot;Brief familial risk assessment tool&quot;</a:s>
                     </a:s>
                  </a:s>
                  <a:s>,
    </a:s>
                  <a:s>
                     <a:s>reason: </a:s>
                     <a:s r="233">
                        <a:s>&quot;Family history of breast, ovarian, tubal, or peritoneal cancer&quot;</a:s>
                     </a:s>
                  </a:s>
                  <a:s>,
    </a:s>
                  <a:s>
                     <a:s>documentation: </a:s>
                     <a:s r="235">
                        <a:s r="234">
                           <a:s>BCSMCommon</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="235">
                           <a:s>SourceDocumentationUSPSTF</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
	}</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="231" locator="37:3-41:2" xsi:type="Tuple">
            <element name="code">
               <value localId="232" locator="38:9-38:45" name="Brief familial risk assessment tool" xsi:type="CodeRef"/>
            </element>
            <element name="reason">
               <value localId="233" locator="39:13-39:76" name="Family history of breast, ovarian, tubal, or peritoneal cancer" xsi:type="CodeRef"/>
            </element>
            <element name="documentation">
               <value localId="235" locator="40:20-40:55" name="SourceDocumentationUSPSTF" libraryName="BCSMCommon" xsi:type="ExpressionRef"/>
            </element>
         </expression>
      </def>
      <def localId="237" locator="43:1-48:2" name="act-fhxriskassess" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="237">
               <a:s>define &quot;act-fhxriskassess&quot;:
  </a:s>
               <a:s r="238">
                  <a:s>{
		</a:s>
                  <a:s>
                     <a:s>code: </a:s>
                     <a:s r="239">
                        <a:s>&quot;Informal familial risk assessment&quot;</a:s>
                     </a:s>
                  </a:s>
                  <a:s>,
    </a:s>
                  <a:s>
                     <a:s>reason: </a:s>
                     <a:s r="240">
                        <a:s>&quot;Family history of breast, ovarian, tubal, or peritoneal cancer&quot;</a:s>
                     </a:s>
                  </a:s>
                  <a:s>,
    </a:s>
                  <a:s>
                     <a:s>documentation: </a:s>
                     <a:s r="242">
                        <a:s r="241">
                           <a:s>BCSMCommon</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="242">
                           <a:s>SourceDocumentationUSPSTF</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
	}</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="238" locator="44:3-48:2" xsi:type="Tuple">
            <element name="code">
               <value localId="239" locator="45:9-45:43" name="Informal familial risk assessment" xsi:type="CodeRef"/>
            </element>
            <element name="reason">
               <value localId="240" locator="46:13-46:76" name="Family history of breast, ovarian, tubal, or peritoneal cancer" xsi:type="CodeRef"/>
            </element>
            <element name="documentation">
               <value localId="242" locator="47:20-47:55" name="SourceDocumentationUSPSTF" libraryName="BCSMCommon" xsi:type="ExpressionRef"/>
            </element>
         </expression>
      </def>
      <def localId="244" locator="50:1-55:2" name="act-geneticreferralrisk" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="244">
               <a:s>define &quot;act-geneticreferralrisk&quot;:
  </a:s>
               <a:s r="245">
                  <a:s>{
		</a:s>
                  <a:s>
                     <a:s>code: </a:s>
                     <a:s r="246">
                        <a:s>&quot;Genetic risk referral&quot;</a:s>
                     </a:s>
                  </a:s>
                  <a:s>,
    </a:s>
                  <a:s>
                     <a:s>reason: </a:s>
                     <a:s r="247">
                        <a:s>&quot;High familial risk&quot;</a:s>
                     </a:s>
                  </a:s>
                  <a:s>,
    </a:s>
                  <a:s>
                     <a:s>documentation: </a:s>
                     <a:s r="249">
                        <a:s r="248">
                           <a:s>BCSMCommon</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="249">
                           <a:s>SourceDocumentationUSPSTF</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
	}</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="245" locator="51:3-55:2" xsi:type="Tuple">
            <element name="code">
               <value localId="246" locator="52:9-52:31" name="Genetic risk referral" xsi:type="CodeRef"/>
            </element>
            <element name="reason">
               <value localId="247" locator="53:13-53:32" name="High familial risk" xsi:type="CodeRef"/>
            </element>
            <element name="documentation">
               <value localId="249" locator="54:20-54:55" name="SourceDocumentationUSPSTF" libraryName="BCSMCommon" xsi:type="ExpressionRef"/>
            </element>
         </expression>
      </def>
      <def localId="251" locator="57:1-62:2" name="act-geneticreferralvariant" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="251">
               <a:s>define &quot;act-geneticreferralvariant&quot;:
  </a:s>
               <a:s r="252">
                  <a:s>{
		</a:s>
                  <a:s>
                     <a:s>code: </a:s>
                     <a:s r="253">
                        <a:s>&quot;Genetic risk referral&quot;</a:s>
                     </a:s>
                  </a:s>
                  <a:s>,
    </a:s>
                  <a:s>
                     <a:s>reason: </a:s>
                     <a:s r="254">
                        <a:s>&quot;Family history of inherited cancer susceptibility&quot;</a:s>
                     </a:s>
                  </a:s>
                  <a:s>,
    </a:s>
                  <a:s>
                     <a:s>documentation: </a:s>
                     <a:s r="256">
                        <a:s r="255">
                           <a:s>BCSMCommon</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="256">
                           <a:s>SourceDocumentationUSPSTF</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
	}</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="252" locator="58:3-62:2" xsi:type="Tuple">
            <element name="code">
               <value localId="253" locator="59:9-59:31" name="Genetic risk referral" xsi:type="CodeRef"/>
            </element>
            <element name="reason">
               <value localId="254" locator="60:13-60:63" name="Family history of inherited cancer susceptibility" xsi:type="CodeRef"/>
            </element>
            <element name="documentation">
               <value localId="256" locator="61:20-61:55" name="SourceDocumentationUSPSTF" libraryName="BCSMCommon" xsi:type="ExpressionRef"/>
            </element>
         </expression>
      </def>
      <def localId="258" locator="64:1-69:2" name="act-geneticreferralancestry" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="258">
               <a:s>define &quot;act-geneticreferralancestry&quot;:
  </a:s>
               <a:s r="259">
                  <a:s>{
		</a:s>
                  <a:s>
                     <a:s>code: </a:s>
                     <a:s r="260">
                        <a:s>&quot;Genetic risk referral&quot;</a:s>
                     </a:s>
                  </a:s>
                  <a:s>,
    </a:s>
                  <a:s>
                     <a:s>reason: </a:s>
                     <a:s r="261">
                        <a:s>&quot;Ancestry associated with BRCA1/2 gene mutations&quot;</a:s>
                     </a:s>
                  </a:s>
                  <a:s>,
    </a:s>
                  <a:s>
                     <a:s>documentation: </a:s>
                     <a:s r="263">
                        <a:s r="262">
                           <a:s>BCSMCommon</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="263">
                           <a:s>SourceDocumentationUSPSTF</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
	}</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="259" locator="65:3-69:2" xsi:type="Tuple">
            <element name="code">
               <value localId="260" locator="66:9-66:31" name="Genetic risk referral" xsi:type="CodeRef"/>
            </element>
            <element name="reason">
               <value localId="261" locator="67:13-67:61" name="Ancestry associated with BRCA1/2 gene mutations" xsi:type="CodeRef"/>
            </element>
            <element name="documentation">
               <value localId="263" locator="68:20-68:55" name="SourceDocumentationUSPSTF" libraryName="BCSMCommon" xsi:type="ExpressionRef"/>
            </element>
         </expression>
      </def>
   </statements>
</library>
