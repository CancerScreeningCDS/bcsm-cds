<?xml version="1.0" encoding="UTF-8"?>
<library xmlns="urn:hl7-org:elm:r1" xmlns:t="urn:hl7-org:elm-types:r1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:fhir="http://hl7.org/fhir" xmlns:qdm43="urn:healthit-gov:qdm:v4_3" xmlns:qdm53="urn:healthit-gov:qdm:v5_3" xmlns:a="urn:hl7-org:cql-annotations:r1" localId="0">
   <annotation translatorVersion="3.11.0" translatorOptions="EnableAnnotations,EnableLocators,DisableListDemotion,DisableListPromotion" signatureLevel="Overloads" xsi:type="a:CqlToElmInfo"/>
   <annotation xsi:type="a:Annotation">
      <a:s r="244">
         <a:s>/*  
  Author: CMS Alliance to Modernize Healthcare, operated by THE MITRE Corporation.

  (C) 2024 The MITRE Corporation. All Rights Reserved. 
  Approved for Public Release: 24-2711. 
  Distribution Unlimited.

  Unless otherwise noted, this work is available under an Apache 2.0 license. 
  It was produced by the MITRE Corporation for the Division of Cancer Prevention 
  and Control, Centers for Disease Control and Prevention in accordance with the 
  Statement of Work, contract number 75FCMC18D0047, task order number 75D30123F17931.
*/

library DecisionToScreenActions version '1.0.0'</a:s>
      </a:s>
   </annotation>
   <identifier id="DecisionToScreenActions" system="http://cancerscreeningcds.github.io/bcsm-cds" version="1.0.0"/>
   <schemaIdentifier id="urn:hl7-org:elm" version="r1"/>
   <usings>
      <def localId="1" localIdentifier="System" uri="urn:hl7-org:elm-types:r1"/>
      <def localId="206" locator="16:1-16:26" localIdentifier="FHIR" uri="http://hl7.org/fhir" version="4.0.1">
         <annotation xsi:type="a:Annotation">
            <a:s r="206">
               <a:s>using </a:s>
               <a:s>
                  <a:s>FHIR</a:s>
               </a:s>
               <a:s> version '4.0.1'</a:s>
            </a:s>
         </annotation>
      </def>
   </usings>
   <includes>
      <def localId="207" locator="18:1-18:55" localIdentifier="FHIRHelpers" path="http://cancerscreeningcds.github.io/bcsm-cds/FHIRHelpers" version="4.0.1">
         <annotation xsi:type="a:Annotation">
            <a:s r="207">
               <a:s>include </a:s>
               <a:s>
                  <a:s>FHIRHelpers</a:s>
               </a:s>
               <a:s>  version '4.0.1' called FHIRHelpers</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="208" locator="19:1-19:61" localIdentifier="BCSMCommon" path="http://cancerscreeningcds.github.io/bcsm-cds/BCSMCommonFunctions" version="1.0.0">
         <annotation xsi:type="a:Annotation">
            <a:s r="208">
               <a:s>include </a:s>
               <a:s>
                  <a:s>BCSMCommonFunctions</a:s>
               </a:s>
               <a:s> version '1.0.0' called BCSMCommon</a:s>
            </a:s>
         </annotation>
      </def>
   </includes>
   <codeSystems>
      <def localId="209" locator="21:1-21:114" name="ActCode" id="http://cancerscreeningcds.github.io/bcsm-cds/CodeSystem/plan-definition-action-code-system" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="209">
               <a:s>codesystem &quot;ActCode&quot;: 'http://cancerscreeningcds.github.io/bcsm-cds/CodeSystem/plan-definition-action-code-system'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="210" locator="22:1-22:111" name="LOCAL" id="http://cancerscreeningcds.github.io/bcsm-cds/CodeSystem/screening-observation-code-system" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="210">
               <a:s>codesystem &quot;LOCAL&quot;: 'http://cancerscreeningcds.github.io/bcsm-cds/CodeSystem/screening-observation-code-system'</a:s>
            </a:s>
         </annotation>
      </def>
   </codeSystems>
   <codes>
      <def localId="211" locator="25:1-25:89" name="Screening Next Due" id="screeningnextdue" display="Screening Next Due" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="211">
               <a:s>// Act Codes
code &quot;Screening Next Due&quot;: 'screeningnextdue' from </a:s>
               <a:s r="212">
                  <a:s>&quot;ActCode&quot;</a:s>
               </a:s>
               <a:s> display 'Screening Next Due'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="212" locator="25:52-25:60" name="ActCode"/>
      </def>
      <def localId="213" locator="26:1-26:130" name="Discuss decision to continue screening" id="sdmcontinue" display="Shared decision making to continue screening" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="213">
               <a:s>code &quot;Discuss decision to continue screening&quot;: 'sdmcontinue' from </a:s>
               <a:s r="214">
                  <a:s>&quot;ActCode&quot;</a:s>
               </a:s>
               <a:s> display 'Shared decision making to continue screening'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="214" locator="26:67-26:75" name="ActCode"/>
      </def>
      <def localId="215" locator="27:1-27:124" name="Discuss delay in screening" id="sdmdelay" display="Shared decision making to consider delay in screening" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="215">
               <a:s>code &quot;Discuss delay in screening&quot;: 'sdmdelay' from </a:s>
               <a:s r="216">
                  <a:s>&quot;ActCode&quot;</a:s>
               </a:s>
               <a:s> display 'Shared decision making to consider delay in screening'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="216" locator="27:52-27:60" name="ActCode"/>
      </def>
      <def localId="217" locator="29:1-29:78" name="Age over 74 years" id="ageover74" display="Age over 74 years" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="217">
               <a:s>// Reason Codes
code &quot;Age over 74 years&quot;: 'ageover74' from </a:s>
               <a:s r="218">
                  <a:s>&quot;LOCAL&quot;</a:s>
               </a:s>
               <a:s> display 'Age over 74 years'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="218" locator="29:44-29:50" name="LOCAL"/>
      </def>
      <def localId="219" locator="30:1-30:108" name="Reduced life expectancy indicator" id="lifeexp" display="Reduced life expectancy indicator" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="219">
               <a:s>code &quot;Reduced life expectancy indicator&quot;: 'lifeexp' from </a:s>
               <a:s r="220">
                  <a:s>&quot;LOCAL&quot;</a:s>
               </a:s>
               <a:s> display 'Reduced life expectancy indicator'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="220" locator="30:58-30:64" name="LOCAL"/>
      </def>
      <def localId="221" locator="31:1-31:91" name="Currently lactating" id="currentlylactating" display="Currently lactating" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="221">
               <a:s>code &quot;Currently lactating&quot;: 'currentlylactating' from </a:s>
               <a:s r="222">
                  <a:s>&quot;LOCAL&quot;</a:s>
               </a:s>
               <a:s> display 'Currently lactating'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="222" locator="31:55-31:61" name="LOCAL"/>
      </def>
      <def localId="223" locator="32:1-32:90" name="USPSTF average risk" id="USPSTFaveragerisk" display="USPSTF average risk" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="223">
               <a:s>code &quot;USPSTF average risk&quot;: 'USPSTFaveragerisk' from </a:s>
               <a:s r="224">
                  <a:s>&quot;LOCAL&quot;</a:s>
               </a:s>
               <a:s> display 'USPSTF average risk'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="224" locator="32:54-32:60" name="LOCAL"/>
      </def>
   </codes>
   <contexts>
      <def localId="228" locator="34:1-34:15" name="Patient"/>
   </contexts>
   <statements>
      <def localId="226" locator="34:1-34:15" name="Patient" context="Patient">
         <expression localId="227" xsi:type="SingletonFrom">
            <operand localId="225" locator="34:1-34:15" dataType="fhir:Patient" templateId="http://hl7.org/fhir/StructureDefinition/Patient" xsi:type="Retrieve"/>
         </expression>
      </def>
      <def localId="230" locator="36:1-41:2" name="act-sdmcontinueage" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="230">
               <a:s>define &quot;act-sdmcontinueage&quot;:
  </a:s>
               <a:s r="231">
                  <a:s>{
		</a:s>
                  <a:s>
                     <a:s>code: </a:s>
                     <a:s r="232">
                        <a:s>&quot;Discuss decision to continue screening&quot;</a:s>
                     </a:s>
                  </a:s>
                  <a:s>,
    </a:s>
                  <a:s>
                     <a:s>reason: </a:s>
                     <a:s r="233">
                        <a:s>&quot;Age over 74 years&quot;</a:s>
                     </a:s>
                  </a:s>
                  <a:s>,
    </a:s>
                  <a:s>
                     <a:s>documentation: </a:s>
                     <a:s r="235">
                        <a:s r="234">
                           <a:s>BCSMCommon</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="235">
                           <a:s>SourceDocumentationUSPSTF</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
	}</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="231" locator="37:3-41:2" xsi:type="Tuple">
            <element name="code">
               <value localId="232" locator="38:9-38:48" name="Discuss decision to continue screening" xsi:type="CodeRef"/>
            </element>
            <element name="reason">
               <value localId="233" locator="39:13-39:31" name="Age over 74 years" xsi:type="CodeRef"/>
            </element>
            <element name="documentation">
               <value localId="235" locator="40:20-40:55" name="SourceDocumentationUSPSTF" libraryName="BCSMCommon" xsi:type="ExpressionRef"/>
            </element>
         </expression>
      </def>
      <def localId="237" locator="43:1-48:2" name="act-sdmcontinuelifexp" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="237">
               <a:s>define &quot;act-sdmcontinuelifexp&quot;:
  </a:s>
               <a:s r="238">
                  <a:s>{
		</a:s>
                  <a:s>
                     <a:s>code: </a:s>
                     <a:s r="239">
                        <a:s>&quot;Discuss decision to continue screening&quot;</a:s>
                     </a:s>
                  </a:s>
                  <a:s>,
    </a:s>
                  <a:s>
                     <a:s>reason: </a:s>
                     <a:s r="240">
                        <a:s>&quot;Reduced life expectancy indicator&quot;</a:s>
                     </a:s>
                  </a:s>
                  <a:s>,
    </a:s>
                  <a:s>
                     <a:s>documentation: </a:s>
                     <a:s r="242">
                        <a:s r="241">
                           <a:s>BCSMCommon</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="242">
                           <a:s>SourceDocumentationACS</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
	}</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="238" locator="44:3-48:2" xsi:type="Tuple">
            <element name="code">
               <value localId="239" locator="45:9-45:48" name="Discuss decision to continue screening" xsi:type="CodeRef"/>
            </element>
            <element name="reason">
               <value localId="240" locator="46:13-46:47" name="Reduced life expectancy indicator" xsi:type="CodeRef"/>
            </element>
            <element name="documentation">
               <value localId="242" locator="47:20-47:52" name="SourceDocumentationACS" libraryName="BCSMCommon" xsi:type="ExpressionRef"/>
            </element>
         </expression>
      </def>
      <def localId="244" locator="50:1-55:2" name="act-lactating" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="244">
               <a:s>define &quot;act-lactating&quot;:
  </a:s>
               <a:s r="245">
                  <a:s>{
		</a:s>
                  <a:s>
                     <a:s>code: </a:s>
                     <a:s r="246">
                        <a:s>&quot;Discuss delay in screening&quot;</a:s>
                     </a:s>
                  </a:s>
                  <a:s>,
    </a:s>
                  <a:s>
                     <a:s>reason: </a:s>
                     <a:s r="247">
                        <a:s>&quot;Currently lactating&quot;</a:s>
                     </a:s>
                  </a:s>
                  <a:s>,
    </a:s>
                  <a:s>
                     <a:s>documentation: </a:s>
                     <a:s r="249">
                        <a:s r="248">
                           <a:s>BCSMCommon</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="249">
                           <a:s>SourceDocumentationOther</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
	}</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="245" locator="51:3-55:2" xsi:type="Tuple">
            <element name="code">
               <value localId="246" locator="52:9-52:36" name="Discuss delay in screening" xsi:type="CodeRef"/>
            </element>
            <element name="reason">
               <value localId="247" locator="53:13-53:33" name="Currently lactating" xsi:type="CodeRef"/>
            </element>
            <element name="documentation">
               <value localId="249" locator="54:20-54:54" name="SourceDocumentationOther" libraryName="BCSMCommon" xsi:type="ExpressionRef"/>
            </element>
         </expression>
      </def>
   </statements>
</library>
